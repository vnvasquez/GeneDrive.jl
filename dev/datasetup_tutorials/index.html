<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Data Model · GeneDrive.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="GeneDrive.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">GeneDrive.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../features/">Features</a></li><li><span class="tocitem">Tutorials</span><ul><li class="is-active"><a class="tocitem" href>Data Model</a></li><li><a class="tocitem" href="../dynamic_tutorials/">Dynamic Model</a></li><li><a class="tocitem" href="../decision_tutorials/">Decision Model</a></li></ul></li><li><a class="tocitem" href="../api/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>Data Model</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Data Model</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/vnvasquez/GeneDrive.jl/blob/main/docs/src/datasetup_tutorials.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><ul></ul><h1 id="data_model"><a class="docs-heading-anchor" href="#data_model">Data Model</a><a id="data_model-1"></a><a class="docs-heading-anchor-permalink" href="#data_model" title="Permalink"></a></h1><p>The first step in any empirical effort is to clean and organize the data. This is also true for computational experiments! <code>GeneDrive.jl</code> uses structs to enforce consistency, define relationships, and dynamically assign methods to data. </p><p>Importantly, the struct approach enables modularity: users can construct experiments in a &quot;building block&quot; fashion by assembling information that has already been stored as proper <code>GeneDrive.jl</code> inputs. The <a href="../features/#features">Features</a> section outlines the environmental, biological, and genetic details that can be defined thanks to the data model.</p><p>Once the information for an experiment has been organized using the data model, we are ready to:</p><ul><li>Save or share our data in a structured and reproducible way.</li><li>Call <a href="../dynamic_tutorials/#dynamic_model">Ordinary Differential Equation (ODE) solution methods</a> on our data.</li><li>Call <a href="../decision_tutorials/#decision_model">optimization solution methods</a> on our data. </li></ul><p>The code below shows how to construct an example study population using data that is included with the package. </p><pre><code class="language-julia hljs">using GeneDrive

# Select species type
species = AedesAegypti

# Define how genetic information is passed on
genetics = genetics_mendelian();

# Choose functional form of environmental response for species life stages
enviro_response = stages_rossi();

# Update population size as desired
update_population_size(enviro_response, 500);

# Assemble organism
organisms = make_organisms(species, genetics, enviro_response);</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">OrderedCollections.OrderedDict{DataType, Organism{AedesAegypti}} with 1 entry:
  AedesAegypti =&gt; Organism{AedesAegypti}(Genetics{Mendelian}(Drive[Drive{AA}(AA…</code></pre><p>To fully define an experiment, additional information is relevant: the spatial structure of the population, the ambient temperature of the habitat, and its geographic location should also be defined. The code below demonstrates how to do this; as above, it draws on pre-structured data from <code>GeneDrive.jl</code>.</p><pre><code class="language-julia hljs"># Define temperature functional form and data
temperature = example_temperature_timeseries;

# Specify the geographic coordinates
coordinates = (16.1820, 145.7210);

# Define the spatial structure, name the location, and &quot;populate&quot; it
node1 = Node(:YorkeysKnob, organisms, temperature, coordinates);</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Node(:YorkeysKnob, OrderedCollections.OrderedDict{Type{&lt;:Species}, Organism}(AedesAegypti =&gt; Organism{AedesAegypti}(Genetics{Mendelian}(Drive[Drive{AA}(AA, [1.0 0.5 0.0; 0.5 0.25 0.0; 0.0 0.0 0.0], 1.0, [1.0 1.0 1.0; 1.0 1.0 1.0; 1.0 1.0 1.0], 0.5, 1.0, 1.0, 0.0, 63.0, 1.0, 0, 1), Drive{Aa}(Aa, [0.0 0.5 1.0; 0.5 0.5 0.5; 1.0 0.5 0.0], 1.0, [1.0 1.0 1.0; 1.0 1.0 1.0; 1.0 1.0 1.0], 0.5, 1.0, 1.0, 0.0, 63.0, 1.0, 0, 0), Drive{aa}(aa, [0.0 0.0 0.0; 0.0 0.25 0.5; 0.0 0.5 1.0], 1.0, [1.0 1.0 1.0; 1.0 1.0 1.0; 1.0 1.0 1.0], 0.5, 1.0, 1.0, 0.0, 63.0, 1.0, 1, 0)], [1.0 0.5 0.0; 0.5 0.25 0.0; 0.0 0.0 0.0;;; 0.0 0.5 1.0; 0.5 0.5 0.5; 1.0 0.5 0.0;;; 0.0 0.0 0.0; 0.0 0.25 0.5; 0.0 0.5 1.0], [1.0, 1.0, 1.0], [1.0 1.0 1.0; 1.0 1.0 1.0; 1.0 1.0 1.0;;; 1.0 1.0 1.0; 1.0 1.0 1.0; 1.0 1.0 1.0;;; 1.0 1.0 1.0; 1.0 1.0 1.0; 1.0 1.0 1.0], [0.5, 0.5, 0.5], [1.0, 1.0, 1.0], [1.0, 1.0, 1.0], [0.0, 0.0, 0.0], [63.0, 63.0, 63.0], [1.0, 1.0, 1.0], [0, 0, 1], [1, 0, 0]), OrderedCollections.OrderedDict{Type{&lt;:LifeStage}, Stage}(Egg =&gt; Stage{Egg}(EggMortalityRossi(0.0731, 0.0595), EggDurationRossi(0.00764, 273.0, 40.55, 13094.1, 92.501, 28169.2), 2, Density{NoDensity}(NoDensity, 1.0), nothing, 0), Larva =&gt; Stage{Larva}(LarvaMortalityRossi(0.0143, 0.00189), LarvaDurationRossi(0.00219, 273.0, 25.21, 7514.34), 3, Density{LogisticDensity}(LogisticDensity, 1.0), Egg, 0), Pupa =&gt; Stage{Pupa}(PupaMortalityRossi(0.0143, 0.00189), PupaDurationRossi(0.027, -1.7, 27.7), 2, Density{NoDensity}(NoDensity, 1.0), Larva, 0), Male =&gt; Stage{Male}(AdultMortalityRossi(0.053, 0.081, 23.0, 0.0006375000000000003), NoResponse(0.0), 1, Density{NoDensity}(NoDensity, 1.0), Pupa, 0), Female =&gt; Stage{Female}(AdultMortalityRossi(0.053, 0.081, 23.0, 0.0006375000000000003), NoResponse(0.0), 1, Density{NoDensity}(NoDensity, 1.0), Pupa, 500)))), TimeSeriesTemperature([27.0, 27.5, 28.05, 28.05, 28.3, 27.8, 27.9, 28.5, 27.75, 26.8  …  27.9, 26.0, 24.9, 26.6, 27.35, 28.0, 28.4, 28.5, 28.45, 28.8]), (16.182, 145.721))</code></pre><p>If the desired spatial structure is a network, we must also define migration rates for subsets of the population that move from node to node within that network. Migration is defined as a nested dictionary wherein the rate at which each genotype and lifestage moves between locations can be optionally specified. When migration rates are not defined for adjacent nodes or specific life stages (e.g., eggs) and genotypes, the default rate is set to zero.</p><pre><code class="language-julia hljs"># Define a second node
coordinates2 = (17.0966, 145.7747);
node2 = Node(:Gordonsvale, organisms, temperature, coordinates2);

# Create a network comprised of the two nodes
network = Network(:Queensland, node1, node2);

# Specify that adult males and females of all genotypes move
migration_data = Dict( # node1 &lt;-&gt; node2
    (&quot;Male&quot;, &quot;AA&quot;) =&gt; Dict((:YorkeysKnob, :Gordonsvale) =&gt; 0.02,
                           (:Gordonsvale, :YorkeysKnob) =&gt; 0.02),
    (&quot;Male&quot;, &quot;Aa&quot;) =&gt; Dict((:YorkeysKnob, :Gordonsvale) =&gt; 0.02,
                            (:Gordonsvale, :YorkeysKnob) =&gt; 0.02),
    (&quot;Male&quot;, &quot;aa&quot;) =&gt; Dict((:YorkeysKnob, :Gordonsvale) =&gt; 0.02,
                            (:Gordonsvale, :YorkeysKnob) =&gt; 0.02),
    (&quot;Female&quot;, &quot;AA&quot;) =&gt; Dict((:YorkeysKnob, :Gordonsvale) =&gt; 0.02,
                            (:Gordonsvale, :YorkeysKnob) =&gt; 0.02),
    (&quot;Female&quot;, &quot;Aa&quot;) =&gt; Dict((:YorkeysKnob, :Gordonsvale) =&gt; 0.02,
                            (:Gordonsvale, :YorkeysKnob) =&gt; 0.02),
    (&quot;Female&quot;, &quot;aa&quot;) =&gt; Dict((:YorkeysKnob, :Gordonsvale) =&gt; 0.02,
                            (:Gordonsvale, :YorkeysKnob) =&gt; 0.02)
);

# Add migration to the network object
assign_migration!(network, migration_data, species);</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../features/">« Features</a><a class="docs-footer-nextpage" href="../dynamic_tutorials/">Dynamic Model »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.19 on <span class="colophon-date" title="Thursday 9 June 2022 19:34">Thursday 9 June 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
